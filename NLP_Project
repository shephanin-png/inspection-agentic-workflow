{"nbformat":4,"nbformat_minor":0,"metadata":{"colab":{"provenance":[],"gpuType":"T4","authorship_tag":"ABX9TyOR4WEMr1EJ16AxralGWX8x"},"kernelspec":{"name":"python3","display_name":"Python 3"},"language_info":{"name":"python"},"accelerator":"GPU","widgets":{"application/vnd.jupyter.widget-state+json":{"82a488d781c045e48e7728cc253254a0":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_e53584e2689c4b74bbaa8298c72ec3c3","IPY_MODEL_7f48c649cf5d4d7e85566a9cfc304492","IPY_MODEL_1ab45d986beb4c91abe7ef54a523ca08"],"layout":"IPY_MODEL_947b9948d6914598b870bb73ba659adc"}},"e53584e2689c4b74bbaa8298c72ec3c3":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_3224980d0552483da4d45cce55409820","placeholder":"​","style":"IPY_MODEL_26001f602be74958a9eb01c703cf03a0","value":"Loading weights: 100%"}},"7f48c649cf5d4d7e85566a9cfc304492":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_c84f0f5e92e641c886edcfb635163adb","max":103,"min":0,"orientation":"horizontal","style":"IPY_MODEL_717a82f5a93d4cd9a8e409aca258ae6a","value":103}},"1ab45d986beb4c91abe7ef54a523ca08":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_24ccecbe9a3e4d57a49e432567812cdf","placeholder":"​","style":"IPY_MODEL_5297d6e1fada42f0beb2b76e04c2170a","value":" 103/103 [00:00&lt;00:00, 435.62it/s, Materializing param=pooler.dense.weight]"}},"947b9948d6914598b870bb73ba659adc":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3224980d0552483da4d45cce55409820":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"26001f602be74958a9eb01c703cf03a0":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"c84f0f5e92e641c886edcfb635163adb":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"717a82f5a93d4cd9a8e409aca258ae6a":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"24ccecbe9a3e4d57a49e432567812cdf":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"5297d6e1fada42f0beb2b76e04c2170a":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}}}}},"cells":[{"cell_type":"code","execution_count":2,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"3sNiUPXQrOrd","executionInfo":{"status":"ok","timestamp":1770439288217,"user_tz":-540,"elapsed":347,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"13180935-caee-4098-bf65-30fcbb767de2"},"outputs":[{"output_type":"stream","name":"stdout","text":["Sat Feb  7 04:41:41 2026       \n","+-----------------------------------------------------------------------------------------+\n","| NVIDIA-SMI 550.54.15              Driver Version: 550.54.15      CUDA Version: 12.4     |\n","|-----------------------------------------+------------------------+----------------------+\n","| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |\n","| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |\n","|                                         |                        |               MIG M. |\n","|=========================================+========================+======================|\n","|   0  Tesla T4                       Off |   00000000:00:04.0 Off |                    0 |\n","| N/A   69C    P8             12W /   70W |       0MiB /  15360MiB |      0%      Default |\n","|                                         |                        |                  N/A |\n","+-----------------------------------------+------------------------+----------------------+\n","                                                                                         \n","+-----------------------------------------------------------------------------------------+\n","| Processes:                                                                              |\n","|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |\n","|        ID   ID                                                               Usage      |\n","|=========================================================================================|\n","|  No running processes found                                                             |\n","+-----------------------------------------------------------------------------------------+\n","PRETTY_NAME=\"Ubuntu 22.04.4 LTS\"\n","NAME=\"Ubuntu\"\n","VERSION_ID=\"22.04\"\n","VERSION=\"22.04.4 LTS (Jammy Jellyfish)\"\n","VERSION_CODENAME=jammy\n","ID=ubuntu\n","ID_LIKE=debian\n","HOME_URL=\"https://www.ubuntu.com/\"\n","SUPPORT_URL=\"https://help.ubuntu.com/\"\n","BUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\n","Python 3.12.12\n"]}],"source":["# 런타임 확인\n","!nvidia-smi || true\n","!cat /etc/os-release | head\n","!python --version"]},{"cell_type":"code","source":["# Ollama 설치\n","!sudo apt-get update && sudo apt-get install -y zstd\n","!curl -fsSL https://ollama.com/install.sh | sh"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"rwBLZVUvrnOf","executionInfo":{"status":"ok","timestamp":1770439327083,"user_tz":-540,"elapsed":38864,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"ca3b98d4-9b11-4381-c2e7-f02f71c55024"},"execution_count":3,"outputs":[{"output_type":"stream","name":"stdout","text":["\r0% [Working]\r            \rHit:1 https://cli.github.com/packages stable InRelease\n","Hit:2 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64  InRelease\n","Hit:3 http://security.ubuntu.com/ubuntu jammy-security InRelease\n","Hit:4 https://cloud.r-project.org/bin/linux/ubuntu jammy-cran40/ InRelease\n","Hit:5 https://r2u.stat.illinois.edu/ubuntu jammy InRelease\n","Hit:6 http://archive.ubuntu.com/ubuntu jammy InRelease\n","Hit:7 http://archive.ubuntu.com/ubuntu jammy-updates InRelease\n","Hit:8 http://archive.ubuntu.com/ubuntu jammy-backports InRelease\n","Hit:9 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu jammy InRelease\n","Hit:10 https://ppa.launchpadcontent.net/graphics-drivers/ppa/ubuntu jammy InRelease\n","Hit:11 https://ppa.launchpadcontent.net/ubuntugis/ppa/ubuntu jammy InRelease\n","Reading package lists... Done\n","W: Skipping acquire of configured file 'main/source/Sources' as repository 'https://r2u.stat.illinois.edu/ubuntu jammy InRelease' does not seem to provide it (sources.list entry misspelt?)\n","Reading package lists... Done\n","Building dependency tree... Done\n","Reading state information... Done\n","zstd is already the newest version (1.4.8+dfsg-3build1).\n","0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.\n",">>> Cleaning up old version at /usr/local/lib/ollama\n",">>> Installing ollama to /usr/local\n",">>> Downloading ollama-linux-amd64.tar.zst\n","######################################################################## 100.0%\n",">>> Adding ollama user to video group...\n",">>> Adding current user to ollama group...\n",">>> Creating ollama systemd service...\n","\u001b[1m\u001b[31mWARNING:\u001b[m systemd is not running\n","\u001b[1m\u001b[31mWARNING:\u001b[m Unable to detect NVIDIA/AMD GPU. Install lspci or lshw to automatically detect and install GPU dependencies.\n",">>> The Ollama API is now available at 127.0.0.1:11434.\n",">>> Install complete. Run \"ollama\" from the command line.\n"]}]},{"cell_type":"code","source":["# 설치 확인\n","!ollama --version"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"9cOv9zORw5B1","executionInfo":{"status":"ok","timestamp":1770439327626,"user_tz":-540,"elapsed":541,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"dab5bd71-7cf9-4e3a-e0e7-5c035aa41521"},"execution_count":4,"outputs":[{"output_type":"stream","name":"stdout","text":["Warning: could not connect to a running Ollama instance\n","Warning: client version is 0.15.5\n"]}]},{"cell_type":"code","source":["# Ollama 서버 실행\n","import subprocess, time, textwrap, os, signal\n","\n","# Ollama server start\n","proc = subprocess.Popen([\"ollama\", \"serve\"], stdout=subprocess.PIPE, stderr=subprocess.STDOUT, text=True)\n","\n","# 서버가 뜰 시간을 조금 줌\n","time.sleep(2)\n","\n","print(\"Ollama server started (pid):\", proc.pid)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"cPd9vO0jzCH0","executionInfo":{"status":"ok","timestamp":1770439329599,"user_tz":-540,"elapsed":1975,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"5c0d9703-febe-4845-94ee-824bb8793dc7"},"execution_count":5,"outputs":[{"output_type":"stream","name":"stdout","text":["Ollama server started (pid): 17379\n"]}]},{"cell_type":"code","source":["# 서버 확인\n","!curl -s http://127.0.0.1:11434/api/tags | head -c 500"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"xnk7ZhzwzJFi","executionInfo":{"status":"ok","timestamp":1770439329743,"user_tz":-540,"elapsed":79,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"fe4b1c7f-8971-462c-aae1-ed508a2c70aa"},"execution_count":6,"outputs":[{"output_type":"stream","name":"stdout","text":["{\"models\":[{\"name\":\"llama3:latest\",\"model\":\"llama3:latest\",\"modified_at\":\"2026-02-07T03:58:21.450010024Z\",\"size\":4661224676,\"digest\":\"365c0bd3c000a25d28ddbf732fe1c6add414de7275464c4e4d1c3b5fcb5d8ad1\",\"details\":{\"parent_model\":\"\",\"format\":\"gguf\",\"family\":\"llama\",\"families\":[\"llama\"],\"parameter_size\":\"8.0B\",\"quantization_level\":\"Q4_0\"}}]}"]}]},{"cell_type":"code","source":["# 모델 pull\n","!ollama pull llama3"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"tXNhoNqCzMJy","executionInfo":{"status":"ok","timestamp":1770439330424,"user_tz":-540,"elapsed":680,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"391d3d73-3921-4999-9b33-7965d79b9b12"},"execution_count":7,"outputs":[{"output_type":"stream","name":"stdout","text":["\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\u001b[?2026h\u001b[?25l\u001b[1G\u001b[?25h\u001b[?2026l\n"]}]},{"cell_type":"code","source":["import requests, json\n","\n","def ollama_chat(prompt: str, model: str=\"llama3\") -> str:\n","    url = \"http://127.0.0.1:11434/api/chat\"\n","    payload = {\n","        \"model\": model,\n","        \"messages\": [\n","            {\"role\": \"system\", \"content\": \"You are a helpful assistant for inspection process troubleshooting.\"},\n","            {\"role\": \"user\", \"content\": prompt}\n","        ],\n","        \"stream\": False,\n","        \"options\": {\n","            \"temperature\": 0.2\n","        }\n","    }\n","    r = requests.post(url, json=payload, timeout=600) # Increased timeout to 600 seconds\n","    r.raise_for_status()\n","    return r.json()[\"message\"][\"content\"]\n","\n","test_prompt = \"swp 에러 로그 발생했습니다. 트러블 슈팅 가이드 간단히 3줄로.\"\n","print(ollama_chat(test_prompt, model=\"llama3\"))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"pAD7xwBJzSNY","executionInfo":{"status":"ok","timestamp":1770439339118,"user_tz":-540,"elapsed":8693,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"dbfe15ce-7405-4433-d22e-c70856517fec"},"execution_count":8,"outputs":[{"output_type":"stream","name":"stdout","text":["Here's a quick 3-line guide to help troubleshoot the SWP error:\n","\n","**Error:** SWP (System Wide Protector) error occurred.\n","\n","**Troubleshooting Steps:**\n","\n","1. **Check System Configuration**: Verify that your system meets the minimum requirements for running the inspection software.\n","2. **Update Software**: Ensure you're running the latest version of the inspection software and any relevant plugins or modules.\n","3. **Reboot and Retry**: Try restarting your system and re-running the inspection process to see if the error persists.\n","\n","Let me know if you need further assistance!\n"]}]},{"cell_type":"code","source":["# 데이터 준비\n","import pandas as pd\n","import numpy as np\n","\n","np.random.seed(42)\n","\n","# ----- Constants (원하는 값으로 수정 가능) -----\n","EQPID = \"KR-010101\"\n","MODEL = \"LGMONYTV\"\n","Program_Version = \"260206\"\n","Equipment_Version = \"M.KOR\"\n","Spec_Min_mA = 0.80\n","Spec_Max_mA = 10.00\n","\n","def make_row(i, label, s6f1_result, saved_result, delta_s, acw):\n","    return {\n","        \"issue_id\": f\"{i:03d}\",\n","        \"label\": label,  # OK / NG (정답 라벨)\n","        \"EQPID\": EQPID,\n","        \"SETID\": f\"500MONY{i:04d}\",\n","        \"MODEL\": MODEL,\n","        \"Program_Version\": Program_Version,\n","        \"Equipment_Version\": Equipment_Version,\n","        \"S6F12_ACK\": 0,\n","        \"delta_S6F11_S6F12_s\": int(delta_s),\n","        \"S6F1_RESULT\": s6f1_result,     # 장비 판단\n","        \"ACW_Mea_mA\": round(float(acw), 2),\n","        \"Spec_Min_mA\": Spec_Min_mA,\n","        \"Spec_Max_mA\": Spec_Max_mA,\n","        \"Saved_Result\": saved_result,   # 저장 결과\n","    }\n","\n","rows = []\n","\n","# ----- OK 데이터 50개 (001~050): RESULT=OK, Saved=OK -----\n","ok_acw = np.clip(\n","    np.random.normal(loc=4.5, scale=2.0, size=50),\n","    Spec_Min_mA + 0.01, Spec_Max_mA - 0.01\n",")\n","ok_delta = np.random.choice([1, 2, 3], size=50, p=[0.6, 0.3, 0.1])\n","\n","for idx in range(1, 51):\n","    rows.append(make_row(idx, \"OK\", \"OK\", \"OK\", ok_delta[idx-1], ok_acw[idx-1]))\n","\n","# ----- NG 데이터 10개 (051~060)\n","#  - mismatch 6개: S6F1 OK but Saved NG\n","#  - true NG 4개: S6F1 NG and Saved NG\n","ng_plan = {\n","    51: (\"NG\", \"OK\", \"NG\", 1, 3.10),\n","    52: (\"NG\", \"OK\", \"NG\", 2, 4.62),\n","    53: (\"NG\", \"NG\", \"NG\", 1, 2.40),\n","    54: (\"NG\", \"OK\", \"NG\", 3, 9.12),\n","    55: (\"NG\", \"NG\", \"NG\", 1, 6.07),\n","    56: (\"NG\", \"OK\", \"NG\", 2, 2.88),\n","    57: (\"NG\", \"NG\", \"NG\", 1, 1.05),\n","    58: (\"NG\", \"OK\", \"NG\", 2, 7.41),\n","    59: (\"NG\", \"NG\", \"NG\", 1, 3.77),\n","    60: (\"NG\", \"OK\", \"NG\", 2, 5.18),\n","}\n","\n","for idx in range(51, 61):\n","    label, s6f1_result, saved_result, delta_s, acw = ng_plan[idx]\n","    # 스펙은 정상 찍히는 조건 유지(스펙 범위 내로 클립)\n","    acw = min(max(acw, Spec_Min_mA + 0.01), Spec_Max_mA - 0.01)\n","    rows.append(make_row(idx, label, s6f1_result, saved_result, delta_s, acw))\n","\n","df = pd.DataFrame(rows)\n","\n","# (선택) 파생 컬럼: mismatch 여부 / 케이스 타입\n","df[\"is_mismatch\"] = ((df[\"S6F1_RESULT\"] != df[\"Saved_Result\"]) & (df[\"label\"] == \"NG\")).astype(int)\n","df[\"case_type\"] = np.where(\n","    df[\"label\"] == \"OK\",\n","    \"ok_normal\",\n","    np.where(df[\"is_mismatch\"] == 1, \"mismatch_ok_saved_ng\", \"true_ng_s6f1_ng\")\n",")\n","\n","# ----- CSV 저장 -----\n","out_path = \"/content/inspection_logs_60.csv\"\n","df.to_csv(out_path, index=False, encoding=\"utf-8-sig\")\n","\n","print(\"Saved:\", out_path)\n","df.head(10)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":575},"id":"Zx6bC1nm0Jxx","executionInfo":{"status":"ok","timestamp":1770439339451,"user_tz":-540,"elapsed":331,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"6e38d1c1-40d7-4ccb-eb21-45903549e374"},"execution_count":9,"outputs":[{"output_type":"stream","name":"stdout","text":["Saved: /content/inspection_logs_60.csv\n"]},{"output_type":"execute_result","data":{"text/plain":["  issue_id label      EQPID        SETID     MODEL Program_Version  \\\n","0      001    OK  KR-010101  500MONY0001  LGMONYTV          260206   \n","1      002    OK  KR-010101  500MONY0002  LGMONYTV          260206   \n","2      003    OK  KR-010101  500MONY0003  LGMONYTV          260206   \n","3      004    OK  KR-010101  500MONY0004  LGMONYTV          260206   \n","4      005    OK  KR-010101  500MONY0005  LGMONYTV          260206   \n","5      006    OK  KR-010101  500MONY0006  LGMONYTV          260206   \n","6      007    OK  KR-010101  500MONY0007  LGMONYTV          260206   \n","7      008    OK  KR-010101  500MONY0008  LGMONYTV          260206   \n","8      009    OK  KR-010101  500MONY0009  LGMONYTV          260206   \n","9      010    OK  KR-010101  500MONY0010  LGMONYTV          260206   \n","\n","  Equipment_Version  S6F12_ACK  delta_S6F11_S6F12_s S6F1_RESULT  ACW_Mea_mA  \\\n","0             M.KOR          0                    1          OK        5.49   \n","1             M.KOR          0                    2          OK        4.22   \n","2             M.KOR          0                    1          OK        5.80   \n","3             M.KOR          0                    3          OK        7.55   \n","4             M.KOR          0                    2          OK        4.03   \n","5             M.KOR          0                    1          OK        4.03   \n","6             M.KOR          0                    1          OK        7.66   \n","7             M.KOR          0                    2          OK        6.03   \n","8             M.KOR          0                    2          OK        3.56   \n","9             M.KOR          0                    2          OK        5.59   \n","\n","   Spec_Min_mA  Spec_Max_mA Saved_Result  is_mismatch  case_type  \n","0          0.8         10.0           OK            0  ok_normal  \n","1          0.8         10.0           OK            0  ok_normal  \n","2          0.8         10.0           OK            0  ok_normal  \n","3          0.8         10.0           OK            0  ok_normal  \n","4          0.8         10.0           OK            0  ok_normal  \n","5          0.8         10.0           OK            0  ok_normal  \n","6          0.8         10.0           OK            0  ok_normal  \n","7          0.8         10.0           OK            0  ok_normal  \n","8          0.8         10.0           OK            0  ok_normal  \n","9          0.8         10.0           OK            0  ok_normal  "],"text/html":["\n","  <div id=\"df-f8e41f10-a401-4a9e-aae5-54e2a693c6e0\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>issue_id</th>\n","      <th>label</th>\n","      <th>EQPID</th>\n","      <th>SETID</th>\n","      <th>MODEL</th>\n","      <th>Program_Version</th>\n","      <th>Equipment_Version</th>\n","      <th>S6F12_ACK</th>\n","      <th>delta_S6F11_S6F12_s</th>\n","      <th>S6F1_RESULT</th>\n","      <th>ACW_Mea_mA</th>\n","      <th>Spec_Min_mA</th>\n","      <th>Spec_Max_mA</th>\n","      <th>Saved_Result</th>\n","      <th>is_mismatch</th>\n","      <th>case_type</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>001</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0001</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>OK</td>\n","      <td>5.49</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>002</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0002</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>OK</td>\n","      <td>4.22</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>003</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0003</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>OK</td>\n","      <td>5.80</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>004</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0004</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>3</td>\n","      <td>OK</td>\n","      <td>7.55</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>005</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0005</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>OK</td>\n","      <td>4.03</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>5</th>\n","      <td>006</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0006</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>OK</td>\n","      <td>4.03</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>6</th>\n","      <td>007</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0007</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>OK</td>\n","      <td>7.66</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>7</th>\n","      <td>008</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0008</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>OK</td>\n","      <td>6.03</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>8</th>\n","      <td>009</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0009</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>OK</td>\n","      <td>3.56</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","    <tr>\n","      <th>9</th>\n","      <td>010</td>\n","      <td>OK</td>\n","      <td>KR-010101</td>\n","      <td>500MONY0010</td>\n","      <td>LGMONYTV</td>\n","      <td>260206</td>\n","      <td>M.KOR</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>OK</td>\n","      <td>5.59</td>\n","      <td>0.8</td>\n","      <td>10.0</td>\n","      <td>OK</td>\n","      <td>0</td>\n","      <td>ok_normal</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f8e41f10-a401-4a9e-aae5-54e2a693c6e0')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-f8e41f10-a401-4a9e-aae5-54e2a693c6e0 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-f8e41f10-a401-4a9e-aae5-54e2a693c6e0');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"df","summary":"{\n  \"name\": \"df\",\n  \"rows\": 60,\n  \"fields\": [\n    {\n      \"column\": \"issue_id\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 60,\n        \"samples\": [\n          \"001\",\n          \"006\",\n          \"037\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"label\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"NG\",\n          \"OK\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"EQPID\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"KR-010101\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"SETID\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 60,\n        \"samples\": [\n          \"500MONY0001\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"MODEL\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"LGMONYTV\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Program_Version\",\n      \"properties\": {\n        \"dtype\": \"object\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"260206\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Equipment_Version\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          \"M.KOR\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"S6F12_ACK\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 0,\n        \"max\": 0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"delta_S6F11_S6F12_s\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 1,\n        \"max\": 3,\n        \"num_unique_values\": 3,\n        \"samples\": [\n          1\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"S6F1_RESULT\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"NG\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"ACW_Mea_mA\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1.9516533552885462,\n        \"min\": 0.81,\n        \"max\": 9.12,\n        \"num_unique_values\": 55,\n        \"samples\": [\n          6.15\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Spec_Min_mA\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 7.837145129812651e-16,\n        \"min\": 0.8,\n        \"max\": 0.8,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          0.8\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Spec_Max_mA\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.0,\n        \"min\": 10.0,\n        \"max\": 10.0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          10.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Saved_Result\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"NG\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"is_mismatch\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 0,\n        \"max\": 1,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          1\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"case_type\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 3,\n        \"samples\": [\n          \"ok_normal\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":9}]},{"cell_type":"code","source":["!pip -q install langchain langchain-community chromadb pypdf sentence-transformers"],"metadata":{"id":"vWp81vuhD-8C","executionInfo":{"status":"ok","timestamp":1770439342823,"user_tz":-540,"elapsed":3371,"user":{"displayName":"mony kim","userId":"17033832930962782040"}}},"execution_count":10,"outputs":[]},{"cell_type":"code","source":["from langchain_community.document_loaders import PyPDFLoader\n","from google.colab import drive\n","drive.mount('/content/drive')\n","pdf_path = \"/content/drive/MyDrive/[GW_INSTEK]GPT-9800-SERIES_USER-MANUAL_KR.pdf\"\n","loader = PyPDFLoader(pdf_path)\n","\n","documents = loader.load()\n","print(\"Total pages:\", len(documents))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"PRP531A5IuQW","executionInfo":{"status":"ok","timestamp":1770439370579,"user_tz":-540,"elapsed":27754,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"3cf3f392-4564-41ff-a7e7-60537720cadb"},"execution_count":11,"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n","Total pages: 156\n"]}]},{"cell_type":"code","source":["# 텍스트 분할\n","!pip install -U langchain langchain-community langchain-text-splitters\n","from langchain_text_splitters import RecursiveCharacterTextSplitter\n","\n","splitter = RecursiveCharacterTextSplitter(\n","    chunk_size=800,\n","    chunk_overlap=100,\n","    separators=[\"\\n\\n\", \"\\n\", \" \", \"\"]\n",")\n","\n","splits = splitter.split_documents(documents)\n","\n","print(\"Total chunks:\", len(splits))\n","print(splits[0].page_content[:500])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"z2xIRma8I8wU","executionInfo":{"status":"ok","timestamp":1770439383432,"user_tz":-540,"elapsed":12828,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"4e2a900b-9321-4f32-f33c-e8dada6e8389"},"execution_count":12,"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: langchain in /usr/local/lib/python3.12/dist-packages (1.2.9)\n","Requirement already satisfied: langchain-community in /usr/local/lib/python3.12/dist-packages (0.4.1)\n","Requirement already satisfied: langchain-text-splitters in /usr/local/lib/python3.12/dist-packages (1.1.0)\n","Requirement already satisfied: langchain-core<2.0.0,>=1.2.9 in /usr/local/lib/python3.12/dist-packages (from langchain) (1.2.9)\n","Requirement already satisfied: langgraph<1.1.0,>=1.0.7 in /usr/local/lib/python3.12/dist-packages (from langchain) (1.0.8)\n","Requirement already satisfied: pydantic<3.0.0,>=2.7.4 in /usr/local/lib/python3.12/dist-packages (from langchain) (2.12.5)\n","Requirement already satisfied: langchain-classic<2.0.0,>=1.0.0 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (1.0.1)\n","Requirement already satisfied: SQLAlchemy<3.0.0,>=1.4.0 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (2.0.46)\n","Requirement already satisfied: requests<3.0.0,>=2.32.5 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (2.32.5)\n","Requirement already satisfied: PyYAML<7.0.0,>=5.3.0 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (6.0.3)\n","Requirement already satisfied: aiohttp<4.0.0,>=3.8.3 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (3.13.3)\n","Requirement already satisfied: tenacity!=8.4.0,<10.0.0,>=8.1.0 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (9.1.3)\n","Requirement already satisfied: dataclasses-json<0.7.0,>=0.6.7 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (0.6.7)\n","Requirement already satisfied: pydantic-settings<3.0.0,>=2.10.1 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (2.12.0)\n","Requirement already satisfied: langsmith<1.0.0,>=0.1.125 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (0.6.9)\n","Requirement already satisfied: httpx-sse<1.0.0,>=0.4.0 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (0.4.3)\n","Requirement already satisfied: numpy>=1.26.2 in /usr/local/lib/python3.12/dist-packages (from langchain-community) (2.4.2)\n","Requirement already satisfied: aiohappyeyeballs>=2.5.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (2.6.1)\n","Requirement already satisfied: aiosignal>=1.4.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (1.4.0)\n","Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (25.4.0)\n","Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (1.8.0)\n","Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (6.7.1)\n","Requirement already satisfied: propcache>=0.2.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (0.4.1)\n","Requirement already satisfied: yarl<2.0,>=1.17.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp<4.0.0,>=3.8.3->langchain-community) (1.22.0)\n","Requirement already satisfied: marshmallow<4.0.0,>=3.18.0 in /usr/local/lib/python3.12/dist-packages (from dataclasses-json<0.7.0,>=0.6.7->langchain-community) (3.26.2)\n","Requirement already satisfied: typing-inspect<1,>=0.4.0 in /usr/local/lib/python3.12/dist-packages (from dataclasses-json<0.7.0,>=0.6.7->langchain-community) (0.9.0)\n","Requirement already satisfied: jsonpatch<2.0.0,>=1.33.0 in /usr/local/lib/python3.12/dist-packages (from langchain-core<2.0.0,>=1.2.9->langchain) (1.33)\n","Requirement already satisfied: packaging>=23.2.0 in /usr/local/lib/python3.12/dist-packages (from langchain-core<2.0.0,>=1.2.9->langchain) (26.0)\n","Requirement already satisfied: typing-extensions<5.0.0,>=4.7.0 in /usr/local/lib/python3.12/dist-packages (from langchain-core<2.0.0,>=1.2.9->langchain) (4.15.0)\n","Requirement already satisfied: uuid-utils<1.0,>=0.12.0 in /usr/local/lib/python3.12/dist-packages (from langchain-core<2.0.0,>=1.2.9->langchain) (0.14.0)\n","Requirement already satisfied: langgraph-checkpoint<5.0.0,>=2.1.0 in /usr/local/lib/python3.12/dist-packages (from langgraph<1.1.0,>=1.0.7->langchain) (4.0.0)\n","Requirement already satisfied: langgraph-prebuilt<1.1.0,>=1.0.7 in /usr/local/lib/python3.12/dist-packages (from langgraph<1.1.0,>=1.0.7->langchain) (1.0.7)\n","Requirement already satisfied: langgraph-sdk<0.4.0,>=0.3.0 in /usr/local/lib/python3.12/dist-packages (from langgraph<1.1.0,>=1.0.7->langchain) (0.3.4)\n","Requirement already satisfied: xxhash>=3.5.0 in /usr/local/lib/python3.12/dist-packages (from langgraph<1.1.0,>=1.0.7->langchain) (3.6.0)\n","Requirement already satisfied: httpx<1,>=0.23.0 in /usr/local/lib/python3.12/dist-packages (from langsmith<1.0.0,>=0.1.125->langchain-community) (0.28.1)\n","Requirement already satisfied: orjson>=3.9.14 in /usr/local/lib/python3.12/dist-packages (from langsmith<1.0.0,>=0.1.125->langchain-community) (3.11.7)\n","Requirement already satisfied: requests-toolbelt>=1.0.0 in /usr/local/lib/python3.12/dist-packages (from langsmith<1.0.0,>=0.1.125->langchain-community) (1.0.0)\n","Requirement already satisfied: zstandard>=0.23.0 in /usr/local/lib/python3.12/dist-packages (from langsmith<1.0.0,>=0.1.125->langchain-community) (0.25.0)\n","Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.12/dist-packages (from pydantic<3.0.0,>=2.7.4->langchain) (0.7.0)\n","Requirement already satisfied: pydantic-core==2.41.5 in /usr/local/lib/python3.12/dist-packages (from pydantic<3.0.0,>=2.7.4->langchain) (2.41.5)\n","Requirement already satisfied: typing-inspection>=0.4.2 in /usr/local/lib/python3.12/dist-packages (from pydantic<3.0.0,>=2.7.4->langchain) (0.4.2)\n","Requirement already satisfied: python-dotenv>=0.21.0 in /usr/local/lib/python3.12/dist-packages (from pydantic-settings<3.0.0,>=2.10.1->langchain-community) (1.2.1)\n","Requirement already satisfied: charset_normalizer<4,>=2 in /usr/local/lib/python3.12/dist-packages (from requests<3.0.0,>=2.32.5->langchain-community) (3.4.4)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.12/dist-packages (from requests<3.0.0,>=2.32.5->langchain-community) (3.11)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.12/dist-packages (from requests<3.0.0,>=2.32.5->langchain-community) (2.6.3)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.12/dist-packages (from requests<3.0.0,>=2.32.5->langchain-community) (2026.1.4)\n","Requirement already satisfied: greenlet>=1 in /usr/local/lib/python3.12/dist-packages (from SQLAlchemy<3.0.0,>=1.4.0->langchain-community) (3.3.1)\n","Requirement already satisfied: anyio in /usr/local/lib/python3.12/dist-packages (from httpx<1,>=0.23.0->langsmith<1.0.0,>=0.1.125->langchain-community) (4.12.1)\n","Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.12/dist-packages (from httpx<1,>=0.23.0->langsmith<1.0.0,>=0.1.125->langchain-community) (1.0.9)\n","Requirement already satisfied: h11>=0.16 in /usr/local/lib/python3.12/dist-packages (from httpcore==1.*->httpx<1,>=0.23.0->langsmith<1.0.0,>=0.1.125->langchain-community) (0.16.0)\n","Requirement already satisfied: jsonpointer>=1.9 in /usr/local/lib/python3.12/dist-packages (from jsonpatch<2.0.0,>=1.33.0->langchain-core<2.0.0,>=1.2.9->langchain) (3.0.0)\n","Requirement already satisfied: ormsgpack>=1.12.0 in /usr/local/lib/python3.12/dist-packages (from langgraph-checkpoint<5.0.0,>=2.1.0->langgraph<1.1.0,>=1.0.7->langchain) (1.12.2)\n","Requirement already satisfied: mypy-extensions>=0.3.0 in /usr/local/lib/python3.12/dist-packages (from typing-inspect<1,>=0.4.0->dataclasses-json<0.7.0,>=0.6.7->langchain-community) (1.1.0)\n","Total chunks: 188\n","전기 안전 시험기 \n","GPT-9000 시리즈 \n"," \n","사용자 설명서 \n","GW INSTEK PART NO. 82PT-99040EB1 \n"," \n"," \n"," \n","ISO-9001 CERTIFIED MANUFACTURER\n"]}]},{"cell_type":"code","source":["# 임베딩 + 벡터 DB 생성\n","from langchain_community.embeddings import HuggingFaceEmbeddings\n","from langchain_community.vectorstores import Chroma\n","\n","embeddings = HuggingFaceEmbeddings(\n","    model_name=\"sentence-transformers/all-MiniLM-L6-v2\"\n",")\n","\n","vectorstore = Chroma.from_documents(\n","    documents=splits,\n","    embedding=embeddings,\n","    persist_directory=\"/content/chroma_gpt9800_manual\"\n",")\n","\n","print(\"Vector DB ready:\", vectorstore._collection.count())"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":411,"referenced_widgets":["82a488d781c045e48e7728cc253254a0","e53584e2689c4b74bbaa8298c72ec3c3","7f48c649cf5d4d7e85566a9cfc304492","1ab45d986beb4c91abe7ef54a523ca08","947b9948d6914598b870bb73ba659adc","3224980d0552483da4d45cce55409820","26001f602be74958a9eb01c703cf03a0","c84f0f5e92e641c886edcfb635163adb","717a82f5a93d4cd9a8e409aca258ae6a","24ccecbe9a3e4d57a49e432567812cdf","5297d6e1fada42f0beb2b76e04c2170a"]},"id":"QOTHji2nKFtX","executionInfo":{"status":"ok","timestamp":1770439395512,"user_tz":-540,"elapsed":12078,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"9bca1b1f-d277-4762-9ca4-1f975f84d4e8"},"execution_count":13,"outputs":[{"output_type":"stream","name":"stderr","text":["/tmp/ipython-input-1433658475.py:5: LangChainDeprecationWarning: The class `HuggingFaceEmbeddings` was deprecated in LangChain 0.2.2 and will be removed in 1.0. An updated version of the class exists in the `langchain-huggingface package and should be used instead. To use it run `pip install -U `langchain-huggingface` and import as `from `langchain_huggingface import HuggingFaceEmbeddings``.\n","  embeddings = HuggingFaceEmbeddings(\n","/usr/local/lib/python3.12/dist-packages/huggingface_hub/utils/_auth.py:94: UserWarning: \n","The secret `HF_TOKEN` does not exist in your Colab secrets.\n","To authenticate with the Hugging Face Hub, create a token in your settings tab (https://huggingface.co/settings/tokens), set it as secret in your Google Colab and restart your session.\n","You will be able to reuse this secret in all of your notebooks.\n","Please note that authentication is recommended but still optional to access public models or datasets.\n","  warnings.warn(\n","Warning: You are sending unauthenticated requests to the HF Hub. Please set a HF_TOKEN to enable higher rate limits and faster downloads.\n","WARNING:huggingface_hub.utils._http:Warning: You are sending unauthenticated requests to the HF Hub. Please set a HF_TOKEN to enable higher rate limits and faster downloads.\n"]},{"output_type":"display_data","data":{"text/plain":["Loading weights:   0%|          | 0/103 [00:00<?, ?it/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"82a488d781c045e48e7728cc253254a0"}},"metadata":{}},{"output_type":"stream","name":"stderr","text":["BertModel LOAD REPORT from: sentence-transformers/all-MiniLM-L6-v2\n","Key                     | Status     |  | \n","------------------------+------------+--+-\n","embeddings.position_ids | UNEXPECTED |  | \n","\n","Notes:\n","- UNEXPECTED\t:can be ignored when loading from different task/architecture; not ok if you expect identical arch.\n"]},{"output_type":"stream","name":"stdout","text":["Vector DB ready: 376\n"]}]},{"cell_type":"code","source":["# RAG + Ollama (Vanilla + RAG Baseline)\n","from langchain_community.chat_models import ChatOllama\n","\n","llm = ChatOllama(model=\"llama3\", temperature=0.2)\n","\n","def rag_answer_from_manual(question: str, k: int = 4):\n","    retriever = vectorstore.as_retriever(search_kwargs={\"k\": k})\n","    docs = retriever.invoke(question)   # 👈 여기\n","\n","    context = \"\\n\\n\".join(\n","        [f\"[MANUAL]\\n{d.page_content}\" for d in docs]\n","    )\n","\n","    prompt = f\"\"\"\n","너는 GPT-9800 검사 장비 트러블슈팅 전문가야.\n","아래 MANUAL 내용만 근거로 답변해.\n","\n","MANUAL:\n","{context}\n","\n","QUESTION:\n","{question}\n","\n","요구사항:\n","- 가능한 원인 2~3개\n","- 확인 절차(로그/S6F 시퀀스 중심) 5단계 이내\n","- 임시 조치 2개\n","\"\"\"\n","    return llm.invoke(prompt).content"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"U0xWaiZ_PiBE","executionInfo":{"status":"ok","timestamp":1770439395536,"user_tz":-540,"elapsed":23,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"197e913b-c93e-4492-b325-b4f5eb619cc4"},"execution_count":14,"outputs":[{"output_type":"stream","name":"stderr","text":["/tmp/ipython-input-3553921254.py:4: LangChainDeprecationWarning: The class `ChatOllama` was deprecated in LangChain 0.3.1 and will be removed in 1.0.0. An updated version of the class exists in the `langchain-ollama package and should be used instead. To use it run `pip install -U `langchain-ollama` and import as `from `langchain_ollama import ChatOllama``.\n","  llm = ChatOllama(model=\"llama3\", temperature=0.2)\n"]}]},{"cell_type":"code","source":["q = \"검사 프로그램에서 스캔을 했는데 검사 진행이 안돼. 원인과 조치 방법 알려줘\"\n","print(rag_answer_from_manual(q))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"tXU0IMuCQYNi","executionInfo":{"status":"ok","timestamp":1770439404969,"user_tz":-540,"elapsed":9432,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"69e13c50-7e98-4515-c100-c6ee2d7f4783"},"execution_count":15,"outputs":[{"output_type":"stream","name":"stdout","text":["A troubleshooting request! 😊\n","\n","Based on the manual, I'll provide possible causes, confirmation procedures, and temporary solutions for the issue you're experiencing.\n","\n","**Possible Causes:**\n","\n","1. **Incorrect Mode**: The GPT-9800 is not in AUTO mode, which is required to run automatic tests.\n","2. **Insufficient Memory**: The device's memory is full or almost full, preventing the test from running.\n","3. **Test File Corruption**: A corrupted test file is causing the issue.\n","\n","**Confirmation Procedures:**\n","\n","1. Check the current mode of the GPT-9800 by looking at the display. If it's not in AUTO mode, follow the instructions to switch to AUTO mode (MANU/AUTO key for 3 seconds).\n","2. Verify the device's memory usage by checking the display or using a logging tool.\n","3. Inspect the test file(s) being used and check for any errors or corruption.\n","\n","**Temporary Solutions:**\n","\n","1. **Switch to Manual Mode**: If the issue persists, try running the test in manual mode (MANU mode). This may help identify if the problem is specific to the automatic testing feature.\n","2. **Clear Device Memory**: If memory issues are suspected, clear the device's memory by following the manufacturer's instructions.\n","\n","Please let me know if you'd like me to elaborate on any of these points or if you have further questions! 😊\n"]}]},{"cell_type":"code","source":["from langchain.tools import tool\n","import pandas as pd\n","\n","@tool\n","def manual_rag_tool(question: str) -> str:\n","    \"\"\"\n","    GPT-9800 검사 장비 매뉴얼 기반 트러블슈팅 Tool.\n","    매뉴얼 근거로만 원인, 확인 절차, 임시 조치를 제시한다.\n","    \"\"\"\n","\n","    retriever = vectorstore.as_retriever(search_kwargs={\"k\": 4})\n","    docs = retriever.invoke(question)\n","\n","    if not docs:\n","        return \"매뉴얼에서 관련 내용을 찾지 못했습니다.\"\n","\n","    context = \"\\n\\n\".join(\n","        [f\"[MANUAL]\\n{d.page_content}\" for d in docs]\n","    )\n","\n","    prompt = f\"\"\"\n","너는 GPT-9800 검사 장비 트러블슈팅 전문가야.\n","아래 MANUAL 내용만 근거로 답변해.\n","\n","MANUAL:\n","{context}\n","\n","QUESTION:\n","{question}\n","\n","요구사항:\n","- 가능한 원인 2~3개\n","- 확인 절차(로그/S6F 시퀀스 중심) 5단계 이내\n","- 임시 조치 2개\n","\"\"\"\n","\n","    return llm.invoke(prompt).content"],"metadata":{"id":"xKs158N3QcIX","executionInfo":{"status":"ok","timestamp":1770439405131,"user_tz":-540,"elapsed":161,"user":{"displayName":"mony kim","userId":"17033832930962782040"}}},"execution_count":16,"outputs":[]},{"cell_type":"code","source":["from langchain.tools import tool\n","\n","@tool\n","def inspection_log_tool(_: str) -> str:\n","    \"\"\"\n","    메모리에 존재하는 inspection log DataFrame(df) 기반 분석 Tool\n","    \"\"\"\n","\n","    total = len(df)\n","    ng_cnt = (df[\"label\"] == \"NG\").sum()\n","    mismatch_cnt = df[\"is_mismatch\"].sum()\n","\n","    sample = df[df[\"is_mismatch\"] == 1][\n","        [\"issue_id\", \"S6F1_RESULT\", \"Saved_Result\", \"ACW_Mea_mA\"]\n","    ].head(5)\n","\n","    result = f\"\"\"\n","[Inspection Summary]\n","- 총 검사 수량: {total}\n","- NG 수량: {ng_cnt}\n","- Mismatch 수량: {mismatch_cnt}\n","\n","[Sample Mismatch Cases]\n","{sample.to_string(index=False)}\n","\"\"\"\n","    return result"],"metadata":{"id":"BU5ZorgyVnAN","executionInfo":{"status":"ok","timestamp":1770439405150,"user_tz":-540,"elapsed":5,"user":{"displayName":"mony kim","userId":"17033832930962782040"}}},"execution_count":17,"outputs":[]},{"cell_type":"code","source":["from langchain_community.chat_models import ChatOllama\n","\n","agent_llm = ChatOllama(\n","    model=\"llama3\",\n","    temperature=0\n",")"],"metadata":{"id":"P_uwFs9_VpgP","executionInfo":{"status":"ok","timestamp":1770439405163,"user_tz":-540,"elapsed":12,"user":{"displayName":"mony kim","userId":"17033832930962782040"}}},"execution_count":18,"outputs":[]},{"cell_type":"code","source":["!pip install --upgrade --force-reinstall langchain langchain-community"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"id":"cv3HKdQ3ZkoE","executionInfo":{"status":"ok","timestamp":1770439448236,"user_tz":-540,"elapsed":43072,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"c792172b-e0a8-4de1-9edb-ffb6a4889d2f"},"execution_count":19,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting langchain\n","  Using cached langchain-1.2.9-py3-none-any.whl.metadata (5.7 kB)\n","Collecting langchain-community\n","  Using cached langchain_community-0.4.1-py3-none-any.whl.metadata (3.0 kB)\n","Collecting langchain-core<2.0.0,>=1.2.9 (from langchain)\n","  Using cached langchain_core-1.2.9-py3-none-any.whl.metadata (4.4 kB)\n","Collecting langgraph<1.1.0,>=1.0.7 (from langchain)\n","  Using cached langgraph-1.0.8-py3-none-any.whl.metadata (7.4 kB)\n","Collecting pydantic<3.0.0,>=2.7.4 (from langchain)\n","  Using cached pydantic-2.12.5-py3-none-any.whl.metadata (90 kB)\n","Collecting langchain-classic<2.0.0,>=1.0.0 (from langchain-community)\n","  Using cached langchain_classic-1.0.1-py3-none-any.whl.metadata (4.2 kB)\n","Collecting SQLAlchemy<3.0.0,>=1.4.0 (from langchain-community)\n","  Using cached sqlalchemy-2.0.46-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (9.5 kB)\n","Collecting requests<3.0.0,>=2.32.5 (from langchain-community)\n","  Using cached requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)\n","Collecting PyYAML<7.0.0,>=5.3.0 (from langchain-community)\n","  Using cached pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.4 kB)\n","Collecting aiohttp<4.0.0,>=3.8.3 (from langchain-community)\n","  Using cached aiohttp-3.13.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (8.1 kB)\n","Collecting tenacity!=8.4.0,<10.0.0,>=8.1.0 (from langchain-community)\n","  Using cached tenacity-9.1.3-py3-none-any.whl.metadata (1.2 kB)\n","Collecting dataclasses-json<0.7.0,>=0.6.7 (from langchain-community)\n","  Using cached dataclasses_json-0.6.7-py3-none-any.whl.metadata (25 kB)\n","Collecting pydantic-settings<3.0.0,>=2.10.1 (from langchain-community)\n","  Using cached pydantic_settings-2.12.0-py3-none-any.whl.metadata (3.4 kB)\n","Collecting langsmith<1.0.0,>=0.1.125 (from langchain-community)\n","  Using cached langsmith-0.6.9-py3-none-any.whl.metadata (15 kB)\n","Collecting httpx-sse<1.0.0,>=0.4.0 (from langchain-community)\n","  Using cached httpx_sse-0.4.3-py3-none-any.whl.metadata (9.7 kB)\n","Collecting numpy>=1.26.2 (from langchain-community)\n","  Using cached numpy-2.4.2-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (6.6 kB)\n","Collecting aiohappyeyeballs>=2.5.0 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)\n","Collecting aiosignal>=1.4.0 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached aiosignal-1.4.0-py3-none-any.whl.metadata (3.7 kB)\n","Collecting attrs>=17.3.0 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached attrs-25.4.0-py3-none-any.whl.metadata (10 kB)\n","Collecting frozenlist>=1.1.1 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached frozenlist-1.8.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (20 kB)\n","Collecting multidict<7.0,>=4.5 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached multidict-6.7.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)\n","Collecting propcache>=0.2.0 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached propcache-0.4.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (13 kB)\n","Collecting yarl<2.0,>=1.17.0 (from aiohttp<4.0.0,>=3.8.3->langchain-community)\n","  Using cached yarl-1.22.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (75 kB)\n","Collecting marshmallow<4.0.0,>=3.18.0 (from dataclasses-json<0.7.0,>=0.6.7->langchain-community)\n","  Using cached marshmallow-3.26.2-py3-none-any.whl.metadata (7.3 kB)\n","Collecting typing-inspect<1,>=0.4.0 (from dataclasses-json<0.7.0,>=0.6.7->langchain-community)\n","  Using cached typing_inspect-0.9.0-py3-none-any.whl.metadata (1.5 kB)\n","Collecting langchain-text-splitters<2.0.0,>=1.1.0 (from langchain-classic<2.0.0,>=1.0.0->langchain-community)\n","  Using cached langchain_text_splitters-1.1.0-py3-none-any.whl.metadata (2.7 kB)\n","Collecting jsonpatch<2.0.0,>=1.33.0 (from langchain-core<2.0.0,>=1.2.9->langchain)\n","  Using cached jsonpatch-1.33-py2.py3-none-any.whl.metadata (3.0 kB)\n","Collecting packaging>=23.2.0 (from langchain-core<2.0.0,>=1.2.9->langchain)\n","  Using cached packaging-26.0-py3-none-any.whl.metadata (3.3 kB)\n","Collecting typing-extensions<5.0.0,>=4.7.0 (from langchain-core<2.0.0,>=1.2.9->langchain)\n","  Using cached typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)\n","Collecting uuid-utils<1.0,>=0.12.0 (from langchain-core<2.0.0,>=1.2.9->langchain)\n","  Using cached uuid_utils-0.14.0-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)\n","Collecting langgraph-checkpoint<5.0.0,>=2.1.0 (from langgraph<1.1.0,>=1.0.7->langchain)\n","  Using cached langgraph_checkpoint-4.0.0-py3-none-any.whl.metadata (4.9 kB)\n","Collecting langgraph-prebuilt<1.1.0,>=1.0.7 (from langgraph<1.1.0,>=1.0.7->langchain)\n","  Using cached langgraph_prebuilt-1.0.7-py3-none-any.whl.metadata (5.2 kB)\n","Collecting langgraph-sdk<0.4.0,>=0.3.0 (from langgraph<1.1.0,>=1.0.7->langchain)\n","  Using cached langgraph_sdk-0.3.4-py3-none-any.whl.metadata (1.6 kB)\n","Collecting xxhash>=3.5.0 (from langgraph<1.1.0,>=1.0.7->langchain)\n","  Using cached xxhash-3.6.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (13 kB)\n","Collecting httpx<1,>=0.23.0 (from langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)\n","Collecting orjson>=3.9.14 (from langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached orjson-3.11.7-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (41 kB)\n","Collecting requests-toolbelt>=1.0.0 (from langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached requests_toolbelt-1.0.0-py2.py3-none-any.whl.metadata (14 kB)\n","Collecting zstandard>=0.23.0 (from langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached zstandard-0.25.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (3.3 kB)\n","Collecting annotated-types>=0.6.0 (from pydantic<3.0.0,>=2.7.4->langchain)\n","  Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)\n","Collecting pydantic-core==2.41.5 (from pydantic<3.0.0,>=2.7.4->langchain)\n","  Using cached pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.3 kB)\n","Collecting typing-inspection>=0.4.2 (from pydantic<3.0.0,>=2.7.4->langchain)\n","  Using cached typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)\n","Collecting python-dotenv>=0.21.0 (from pydantic-settings<3.0.0,>=2.10.1->langchain-community)\n","  Using cached python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)\n","Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.32.5->langchain-community)\n","  Using cached charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (37 kB)\n","Collecting idna<4,>=2.5 (from requests<3.0.0,>=2.32.5->langchain-community)\n","  Using cached idna-3.11-py3-none-any.whl.metadata (8.4 kB)\n","Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.32.5->langchain-community)\n","  Using cached urllib3-2.6.3-py3-none-any.whl.metadata (6.9 kB)\n","Collecting certifi>=2017.4.17 (from requests<3.0.0,>=2.32.5->langchain-community)\n","  Using cached certifi-2026.1.4-py3-none-any.whl.metadata (2.5 kB)\n","Collecting greenlet>=1 (from SQLAlchemy<3.0.0,>=1.4.0->langchain-community)\n","  Using cached greenlet-3.3.1-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (3.7 kB)\n","Collecting anyio (from httpx<1,>=0.23.0->langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached anyio-4.12.1-py3-none-any.whl.metadata (4.3 kB)\n","Collecting httpcore==1.* (from httpx<1,>=0.23.0->langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)\n","Collecting h11>=0.16 (from httpcore==1.*->httpx<1,>=0.23.0->langsmith<1.0.0,>=0.1.125->langchain-community)\n","  Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)\n","Collecting jsonpointer>=1.9 (from jsonpatch<2.0.0,>=1.33.0->langchain-core<2.0.0,>=1.2.9->langchain)\n","  Using cached jsonpointer-3.0.0-py2.py3-none-any.whl.metadata (2.3 kB)\n","Collecting ormsgpack>=1.12.0 (from langgraph-checkpoint<5.0.0,>=2.1.0->langgraph<1.1.0,>=1.0.7->langchain)\n","  Using cached ormsgpack-1.12.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.2 kB)\n","Collecting mypy-extensions>=0.3.0 (from typing-inspect<1,>=0.4.0->dataclasses-json<0.7.0,>=0.6.7->langchain-community)\n","  Using cached mypy_extensions-1.1.0-py3-none-any.whl.metadata (1.1 kB)\n","Using cached langchain-1.2.9-py3-none-any.whl (111 kB)\n","Using cached langchain_community-0.4.1-py3-none-any.whl (2.5 MB)\n","Using cached aiohttp-3.13.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (1.8 MB)\n","Using cached dataclasses_json-0.6.7-py3-none-any.whl (28 kB)\n","Using cached httpx_sse-0.4.3-py3-none-any.whl (9.0 kB)\n","Using cached langchain_classic-1.0.1-py3-none-any.whl (1.0 MB)\n","Using cached langchain_core-1.2.9-py3-none-any.whl (496 kB)\n","Using cached langgraph-1.0.8-py3-none-any.whl (158 kB)\n","Using cached langsmith-0.6.9-py3-none-any.whl (319 kB)\n","Using cached numpy-2.4.2-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (16.6 MB)\n","Using cached pydantic-2.12.5-py3-none-any.whl (463 kB)\n","Using cached pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)\n","Using cached pydantic_settings-2.12.0-py3-none-any.whl (51 kB)\n","Using cached pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (807 kB)\n","Using cached requests-2.32.5-py3-none-any.whl (64 kB)\n","Using cached sqlalchemy-2.0.46-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (3.3 MB)\n","Using cached tenacity-9.1.3-py3-none-any.whl (28 kB)\n","Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)\n","Using cached aiosignal-1.4.0-py3-none-any.whl (7.5 kB)\n","Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)\n","Using cached attrs-25.4.0-py3-none-any.whl (67 kB)\n","Using cached certifi-2026.1.4-py3-none-any.whl (152 kB)\n","Using cached charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (153 kB)\n","Using cached frozenlist-1.8.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (242 kB)\n","Using cached greenlet-3.3.1-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (609 kB)\n","Using cached httpx-0.28.1-py3-none-any.whl (73 kB)\n","Using cached httpcore-1.0.9-py3-none-any.whl (78 kB)\n","Using cached idna-3.11-py3-none-any.whl (71 kB)\n","Using cached jsonpatch-1.33-py2.py3-none-any.whl (12 kB)\n","Using cached langchain_text_splitters-1.1.0-py3-none-any.whl (34 kB)\n","Using cached langgraph_checkpoint-4.0.0-py3-none-any.whl (46 kB)\n","Using cached langgraph_prebuilt-1.0.7-py3-none-any.whl (35 kB)\n","Using cached langgraph_sdk-0.3.4-py3-none-any.whl (67 kB)\n","Using cached marshmallow-3.26.2-py3-none-any.whl (50 kB)\n","Using cached multidict-6.7.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (256 kB)\n","Using cached orjson-3.11.7-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (133 kB)\n","Using cached packaging-26.0-py3-none-any.whl (74 kB)\n","Using cached propcache-0.4.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (221 kB)\n","Using cached python_dotenv-1.2.1-py3-none-any.whl (21 kB)\n","Using cached requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)\n","Using cached typing_extensions-4.15.0-py3-none-any.whl (44 kB)\n","Using cached typing_inspect-0.9.0-py3-none-any.whl (8.8 kB)\n","Using cached typing_inspection-0.4.2-py3-none-any.whl (14 kB)\n","Using cached urllib3-2.6.3-py3-none-any.whl (131 kB)\n","Using cached uuid_utils-0.14.0-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (341 kB)\n","Using cached xxhash-3.6.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (193 kB)\n","Using cached yarl-1.22.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (377 kB)\n","Using cached zstandard-0.25.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (5.5 MB)\n","Using cached jsonpointer-3.0.0-py2.py3-none-any.whl (7.6 kB)\n","Using cached mypy_extensions-1.1.0-py3-none-any.whl (5.0 kB)\n","Using cached ormsgpack-1.12.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (212 kB)\n","Using cached anyio-4.12.1-py3-none-any.whl (113 kB)\n","Using cached h11-0.16.0-py3-none-any.whl (37 kB)\n","Installing collected packages: zstandard, xxhash, uuid-utils, urllib3, typing-extensions, tenacity, PyYAML, python-dotenv, propcache, packaging, ormsgpack, orjson, numpy, mypy-extensions, multidict, jsonpointer, idna, httpx-sse, h11, greenlet, frozenlist, charset_normalizer, certifi, attrs, annotated-types, aiohappyeyeballs, yarl, typing-inspection, typing-inspect, SQLAlchemy, requests, pydantic-core, marshmallow, jsonpatch, httpcore, anyio, aiosignal, requests-toolbelt, pydantic, httpx, dataclasses-json, aiohttp, pydantic-settings, langsmith, langgraph-sdk, langchain-core, langgraph-checkpoint, langchain-text-splitters, langgraph-prebuilt, langchain-classic, langgraph, langchain-community, langchain\n","  Attempting uninstall: zstandard\n","    Found existing installation: zstandard 0.25.0\n","    Uninstalling zstandard-0.25.0:\n","      Successfully uninstalled zstandard-0.25.0\n","  Attempting uninstall: xxhash\n","    Found existing installation: xxhash 3.6.0\n","    Uninstalling xxhash-3.6.0:\n","      Successfully uninstalled xxhash-3.6.0\n","  Attempting uninstall: uuid-utils\n","    Found existing installation: uuid_utils 0.14.0\n","    Uninstalling uuid_utils-0.14.0:\n","      Successfully uninstalled uuid_utils-0.14.0\n","  Attempting uninstall: urllib3\n","    Found existing installation: urllib3 2.6.3\n","    Uninstalling urllib3-2.6.3:\n","      Successfully uninstalled urllib3-2.6.3\n","  Attempting uninstall: typing-extensions\n","    Found existing installation: typing_extensions 4.15.0\n","    Uninstalling typing_extensions-4.15.0:\n","      Successfully uninstalled typing_extensions-4.15.0\n","  Attempting uninstall: tenacity\n","    Found existing installation: tenacity 9.1.3\n","    Uninstalling tenacity-9.1.3:\n","      Successfully uninstalled tenacity-9.1.3\n","  Attempting uninstall: PyYAML\n","    Found existing installation: PyYAML 6.0.3\n","    Uninstalling PyYAML-6.0.3:\n","      Successfully uninstalled PyYAML-6.0.3\n","  Attempting uninstall: python-dotenv\n","    Found existing installation: python-dotenv 1.2.1\n","    Uninstalling python-dotenv-1.2.1:\n","      Successfully uninstalled python-dotenv-1.2.1\n","  Attempting uninstall: propcache\n","    Found existing installation: propcache 0.4.1\n","    Uninstalling propcache-0.4.1:\n","      Successfully uninstalled propcache-0.4.1\n","  Attempting uninstall: packaging\n","    Found existing installation: packaging 26.0\n","    Uninstalling packaging-26.0:\n","      Successfully uninstalled packaging-26.0\n","  Attempting uninstall: ormsgpack\n","    Found existing installation: ormsgpack 1.12.2\n","    Uninstalling ormsgpack-1.12.2:\n","      Successfully uninstalled ormsgpack-1.12.2\n","  Attempting uninstall: orjson\n","    Found existing installation: orjson 3.11.7\n","    Uninstalling orjson-3.11.7:\n","      Successfully uninstalled orjson-3.11.7\n","  Attempting uninstall: numpy\n","    Found existing installation: numpy 2.4.2\n","    Uninstalling numpy-2.4.2:\n","      Successfully uninstalled numpy-2.4.2\n","  Attempting uninstall: mypy-extensions\n","    Found existing installation: mypy_extensions 1.1.0\n","    Uninstalling mypy_extensions-1.1.0:\n","      Successfully uninstalled mypy_extensions-1.1.0\n","  Attempting uninstall: multidict\n","    Found existing installation: multidict 6.7.1\n","    Uninstalling multidict-6.7.1:\n","      Successfully uninstalled multidict-6.7.1\n","  Attempting uninstall: jsonpointer\n","    Found existing installation: jsonpointer 3.0.0\n","    Uninstalling jsonpointer-3.0.0:\n","      Successfully uninstalled jsonpointer-3.0.0\n","  Attempting uninstall: idna\n","    Found existing installation: idna 3.11\n","    Uninstalling idna-3.11:\n","      Successfully uninstalled idna-3.11\n","  Attempting uninstall: httpx-sse\n","    Found existing installation: httpx-sse 0.4.3\n","    Uninstalling httpx-sse-0.4.3:\n","      Successfully uninstalled httpx-sse-0.4.3\n","  Attempting uninstall: h11\n","    Found existing installation: h11 0.16.0\n","    Uninstalling h11-0.16.0:\n","      Successfully uninstalled h11-0.16.0\n","  Attempting uninstall: greenlet\n","    Found existing installation: greenlet 3.3.1\n","    Uninstalling greenlet-3.3.1:\n","      Successfully uninstalled greenlet-3.3.1\n","  Attempting uninstall: frozenlist\n","    Found existing installation: frozenlist 1.8.0\n","    Uninstalling frozenlist-1.8.0:\n","      Successfully uninstalled frozenlist-1.8.0\n","  Attempting uninstall: charset_normalizer\n","    Found existing installation: charset-normalizer 3.4.4\n","    Uninstalling charset-normalizer-3.4.4:\n","      Successfully uninstalled charset-normalizer-3.4.4\n","  Attempting uninstall: certifi\n","    Found existing installation: certifi 2026.1.4\n","    Uninstalling certifi-2026.1.4:\n","      Successfully uninstalled certifi-2026.1.4\n","  Attempting uninstall: attrs\n","    Found existing installation: attrs 25.4.0\n","    Uninstalling attrs-25.4.0:\n","      Successfully uninstalled attrs-25.4.0\n","  Attempting uninstall: annotated-types\n","    Found existing installation: annotated-types 0.7.0\n","    Uninstalling annotated-types-0.7.0:\n","      Successfully uninstalled annotated-types-0.7.0\n","  Attempting uninstall: aiohappyeyeballs\n","    Found existing installation: aiohappyeyeballs 2.6.1\n","    Uninstalling aiohappyeyeballs-2.6.1:\n","      Successfully uninstalled aiohappyeyeballs-2.6.1\n","  Attempting uninstall: yarl\n","    Found existing installation: yarl 1.22.0\n","    Uninstalling yarl-1.22.0:\n","      Successfully uninstalled yarl-1.22.0\n","  Attempting uninstall: typing-inspection\n","    Found existing installation: typing-inspection 0.4.2\n","    Uninstalling typing-inspection-0.4.2:\n","      Successfully uninstalled typing-inspection-0.4.2\n","  Attempting uninstall: typing-inspect\n","    Found existing installation: typing-inspect 0.9.0\n","    Uninstalling typing-inspect-0.9.0:\n","      Successfully uninstalled typing-inspect-0.9.0\n","  Attempting uninstall: SQLAlchemy\n","    Found existing installation: SQLAlchemy 2.0.46\n","    Uninstalling SQLAlchemy-2.0.46:\n","      Successfully uninstalled SQLAlchemy-2.0.46\n","  Attempting uninstall: requests\n","    Found existing installation: requests 2.32.5\n","    Uninstalling requests-2.32.5:\n","      Successfully uninstalled requests-2.32.5\n","  Attempting uninstall: pydantic-core\n","    Found existing installation: pydantic_core 2.41.5\n","    Uninstalling pydantic_core-2.41.5:\n","      Successfully uninstalled pydantic_core-2.41.5\n","  Attempting uninstall: marshmallow\n","    Found existing installation: marshmallow 3.26.2\n","    Uninstalling marshmallow-3.26.2:\n","      Successfully uninstalled marshmallow-3.26.2\n","  Attempting uninstall: jsonpatch\n","    Found existing installation: jsonpatch 1.33\n","    Uninstalling jsonpatch-1.33:\n","      Successfully uninstalled jsonpatch-1.33\n","  Attempting uninstall: httpcore\n","    Found existing installation: httpcore 1.0.9\n","    Uninstalling httpcore-1.0.9:\n","      Successfully uninstalled httpcore-1.0.9\n","  Attempting uninstall: anyio\n","    Found existing installation: anyio 4.12.1\n","    Uninstalling anyio-4.12.1:\n","      Successfully uninstalled anyio-4.12.1\n","  Attempting uninstall: aiosignal\n","    Found existing installation: aiosignal 1.4.0\n","    Uninstalling aiosignal-1.4.0:\n","      Successfully uninstalled aiosignal-1.4.0\n","  Attempting uninstall: requests-toolbelt\n","    Found existing installation: requests-toolbelt 1.0.0\n","    Uninstalling requests-toolbelt-1.0.0:\n","      Successfully uninstalled requests-toolbelt-1.0.0\n","  Attempting uninstall: pydantic\n","    Found existing installation: pydantic 2.12.5\n","    Uninstalling pydantic-2.12.5:\n","      Successfully uninstalled pydantic-2.12.5\n","  Attempting uninstall: httpx\n","    Found existing installation: httpx 0.28.1\n","    Uninstalling httpx-0.28.1:\n","      Successfully uninstalled httpx-0.28.1\n","  Attempting uninstall: dataclasses-json\n","    Found existing installation: dataclasses-json 0.6.7\n","    Uninstalling dataclasses-json-0.6.7:\n","      Successfully uninstalled dataclasses-json-0.6.7\n","  Attempting uninstall: aiohttp\n","    Found existing installation: aiohttp 3.13.3\n","    Uninstalling aiohttp-3.13.3:\n","      Successfully uninstalled aiohttp-3.13.3\n","  Attempting uninstall: pydantic-settings\n","    Found existing installation: pydantic-settings 2.12.0\n","    Uninstalling pydantic-settings-2.12.0:\n","      Successfully uninstalled pydantic-settings-2.12.0\n","  Attempting uninstall: langsmith\n","    Found existing installation: langsmith 0.6.9\n","    Uninstalling langsmith-0.6.9:\n","      Successfully uninstalled langsmith-0.6.9\n","  Attempting uninstall: langgraph-sdk\n","    Found existing installation: langgraph-sdk 0.3.4\n","    Uninstalling langgraph-sdk-0.3.4:\n","      Successfully uninstalled langgraph-sdk-0.3.4\n","  Attempting uninstall: langchain-core\n","    Found existing installation: langchain-core 1.2.9\n","    Uninstalling langchain-core-1.2.9:\n","      Successfully uninstalled langchain-core-1.2.9\n","  Attempting uninstall: langgraph-checkpoint\n","    Found existing installation: langgraph-checkpoint 4.0.0\n","    Uninstalling langgraph-checkpoint-4.0.0:\n","      Successfully uninstalled langgraph-checkpoint-4.0.0\n","  Attempting uninstall: langchain-text-splitters\n","    Found existing installation: langchain-text-splitters 1.1.0\n","    Uninstalling langchain-text-splitters-1.1.0:\n","      Successfully uninstalled langchain-text-splitters-1.1.0\n","  Attempting uninstall: langgraph-prebuilt\n","    Found existing installation: langgraph-prebuilt 1.0.7\n","    Uninstalling langgraph-prebuilt-1.0.7:\n","      Successfully uninstalled langgraph-prebuilt-1.0.7\n","  Attempting uninstall: langchain-classic\n","    Found existing installation: langchain-classic 1.0.1\n","    Uninstalling langchain-classic-1.0.1:\n","      Successfully uninstalled langchain-classic-1.0.1\n","  Attempting uninstall: langgraph\n","    Found existing installation: langgraph 1.0.8\n","    Uninstalling langgraph-1.0.8:\n","      Successfully uninstalled langgraph-1.0.8\n","  Attempting uninstall: langchain-community\n","    Found existing installation: langchain-community 0.4.1\n","    Uninstalling langchain-community-0.4.1:\n","      Successfully uninstalled langchain-community-0.4.1\n","  Attempting uninstall: langchain\n","    Found existing installation: langchain 1.2.9\n","    Uninstalling langchain-1.2.9:\n","      Successfully uninstalled langchain-1.2.9\n","\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n","google-colab 1.0.0 requires requests==2.32.4, but you have requests 2.32.5 which is incompatible.\n","tensorflow 2.19.0 requires numpy<2.2.0,>=1.26.0, but you have numpy 2.4.2 which is incompatible.\n","opentelemetry-exporter-otlp-proto-http 1.37.0 requires opentelemetry-exporter-otlp-proto-common==1.37.0, but you have opentelemetry-exporter-otlp-proto-common 1.39.1 which is incompatible.\n","opentelemetry-exporter-otlp-proto-http 1.37.0 requires opentelemetry-proto==1.37.0, but you have opentelemetry-proto 1.39.1 which is incompatible.\n","opentelemetry-exporter-otlp-proto-http 1.37.0 requires opentelemetry-sdk~=1.37.0, but you have opentelemetry-sdk 1.39.1 which is incompatible.\n","opentelemetry-exporter-gcp-logging 1.11.0a0 requires opentelemetry-sdk<1.39.0,>=1.35.0, but you have opentelemetry-sdk 1.39.1 which is incompatible.\n","google-adk 1.23.0 requires opentelemetry-api<=1.37.0,>=1.37.0, but you have opentelemetry-api 1.39.1 which is incompatible.\n","google-adk 1.23.0 requires opentelemetry-sdk<=1.37.0,>=1.37.0, but you have opentelemetry-sdk 1.39.1 which is incompatible.\n","numba 0.60.0 requires numpy<2.1,>=1.22, but you have numpy 2.4.2 which is incompatible.\n","gradio 5.50.0 requires pydantic<=2.12.3,>=2.0, but you have pydantic 2.12.5 which is incompatible.\u001b[0m\u001b[31m\n","\u001b[0mSuccessfully installed PyYAML-6.0.3 SQLAlchemy-2.0.46 aiohappyeyeballs-2.6.1 aiohttp-3.13.3 aiosignal-1.4.0 annotated-types-0.7.0 anyio-4.12.1 attrs-25.4.0 certifi-2026.1.4 charset_normalizer-3.4.4 dataclasses-json-0.6.7 frozenlist-1.8.0 greenlet-3.3.1 h11-0.16.0 httpcore-1.0.9 httpx-0.28.1 httpx-sse-0.4.3 idna-3.11 jsonpatch-1.33 jsonpointer-3.0.0 langchain-1.2.9 langchain-classic-1.0.1 langchain-community-0.4.1 langchain-core-1.2.9 langchain-text-splitters-1.1.0 langgraph-1.0.8 langgraph-checkpoint-4.0.0 langgraph-prebuilt-1.0.7 langgraph-sdk-0.3.4 langsmith-0.6.9 marshmallow-3.26.2 multidict-6.7.1 mypy-extensions-1.1.0 numpy-2.4.2 orjson-3.11.7 ormsgpack-1.12.2 packaging-26.0 propcache-0.4.1 pydantic-2.12.5 pydantic-core-2.41.5 pydantic-settings-2.12.0 python-dotenv-1.2.1 requests-2.32.5 requests-toolbelt-1.0.0 tenacity-9.1.3 typing-extensions-4.15.0 typing-inspect-0.9.0 typing-inspection-0.4.2 urllib3-2.6.3 uuid-utils-0.14.0 xxhash-3.6.0 yarl-1.22.0 zstandard-0.25.0\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["aiohappyeyeballs","aiohttp","aiosignal","annotated_types","anyio","attr","attrs","certifi","frozenlist","h11","httpcore","httpx","idna","jsonpatch","jsonpointer","langchain","langchain_community","langchain_core","langchain_text_splitters","langgraph","langsmith","multidict","numpy","orjson","ormsgpack","packaging","propcache","pydantic","requests","requests_toolbelt","tenacity","typing_inspection","urllib3","xxhash","yaml","yarl","zstandard"]},"id":"7a8ae7c375a948139c9982cb72870628"}},"metadata":{}}]},{"cell_type":"code","source":["from langchain.agents import initialize_agent, AgentType\n","from langchain_core.messages import SystemMessage\n","\n","tools = [manual_rag_tool, inspection_log_tool]\n","\n","SYSTEM = SystemMessage(content=\n","    \"너는 GPT-9800 트러블슈팅 에이전트다. \"\n","    \"반드시 tools를 사용해서 근거를 확보한 뒤 답하라. \"\n","    \"manual_rag_tool 또는 inspection_log_tool 중 최소 1개는 반드시 호출하라. \"\n","    \"매뉴얼 근거가 없으면 '매뉴얼 근거로 확인 불가'라고 답하라.\"\n",")\n","\n","react_executor = initialize_agent(\n","    tools=tools,\n","    llm=agent_llm,\n","    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,\n","    verbose=True,\n","    agent_kwargs={\"system_message\": SYSTEM}\n",")\n","\n","q = \"검사 프로그램에서 스캔을 했는데 검사 진행이 안돼. 원인과 조치 방법 알려줘\"\n","print(react_executor.run(q))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":516},"id":"pYNa88zaWg0M","executionInfo":{"status":"error","timestamp":1770439907684,"user_tz":-540,"elapsed":41,"user":{"displayName":"mony kim","userId":"17033832930962782040"}},"outputId":"028bd68a-1ab7-4c53-db37-ca5b96fb3578"},"execution_count":24,"outputs":[{"output_type":"error","ename":"ImportError","evalue":"cannot import name 'initialize_agent' from 'langchain.agents' (/usr/local/lib/python3.12/dist-packages/langchain/agents/__init__.py)","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mImportError\u001b[0m                               Traceback (most recent call last)","\u001b[0;32m/tmp/ipython-input-3171427947.py\u001b[0m in \u001b[0;36m<cell line: 0>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0;32mfrom\u001b[0m \u001b[0mlangchain\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0magents\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0minitialize_agent\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mAgentType\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0mlangchain_core\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmessages\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mSystemMessage\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m \u001b[0mtools\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0mmanual_rag_tool\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0minspection_log_tool\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mImportError\u001b[0m: cannot import name 'initialize_agent' from 'langchain.agents' (/usr/local/lib/python3.12/dist-packages/langchain/agents/__init__.py)","","\u001b[0;31m---------------------------------------------------------------------------\u001b[0;32m\nNOTE: If your import is failing due to a missing package, you can\nmanually install dependencies using either !pip or !apt.\n\nTo view examples of installing some common dependencies, click the\n\"Open Examples\" button below.\n\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n"],"errorDetails":{"actions":[{"action":"open_url","actionText":"Open Examples","url":"/notebooks/snippets/importing_libraries.ipynb"}]}}]},{"cell_type":"code","source":[],"metadata":{"id":"GxP2eAjtYpMd","executionInfo":{"status":"aborted","timestamp":1770439448325,"user_tz":-540,"elapsed":160628,"user":{"displayName":"mony kim","userId":"17033832930962782040"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"xtgBuvJhYHvQ","executionInfo":{"status":"aborted","timestamp":1770439448349,"user_tz":-540,"elapsed":160652,"user":{"displayName":"mony kim","userId":"17033832930962782040"}}},"execution_count":null,"outputs":[]}]}